<!DOCTYPE html>
<html>
<head>
  <title>Starbucks Prep Expiration Calculator</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      text-align: center;
      max-width: 350px;
      background-color: #F3F6F4;
      color: #333;   
      margin: 0 auto;
    }

    button {
      margin: 5px;
      padding: 10px 15px;
      font-size: 16px;
      cursor: pointer;
      background-color: #00704A;
      color: white;
      border: none;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.2);
      transition: transform 0.1s, box-shadow 0.1s;
      width: 155px;
      min-height: 50px;
    }

    details {
      margin: 20px 0;
      border-radius: 8px;
      padding: 5px;
      background: #FDFDFD;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }

    summary {
      font-size: 16pt;
      font-weight: bold;
      cursor: pointer;
      outline: none;
      padding: 5px 0;
      list-style: none;
      position: relative;
      border-radius: 6px;
      transition: all 0.2s;
    }

    details:not([open]) summary {
      background-color: #00704A;
      color: white;
    }

    details[open] summary {
      background-color: #FDFDFD;
      color: #00704A;
    }

    .arrow {
      display: inline-block;
      width: 0;
      height: 0;
      border-left: 6px solid transparent;
      border-right: 6px solid transparent;
      border-top: 8px solid currentColor;
      transition: transform 0.2s;
    }

    details[open] .arrow {
      transform: rotate(180deg);
    }

    .button-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 2%;
      justify-items: center; 
      margin-bottom: 25px;
    }

    .result {
      margin-top: 15px;
      font-weight: bold;
      line-height: 1.75em;
    }

    .day-badge {
      color: white;
      padding: 2px 6px;
      border-radius: 4px;
      font-weight: bold;
    }

    #footer {
      margin-top: 4%;
      font-size: 10px;
    }
  </style>
  <meta name="viewport" content="user-scalable=no, width=device-width" />
  <script src="cordova.js"></script>
</head>
<body>

  <img src="images/logo.png" style="height: 100px; width: 100px;">
  <h1>Starbucks Prep Expiration Calculator</h1>

    <!-- Output -->
  <hr>
  <span id="itemName"><br><br><br><br><br></span>
  <div id="output" class="result"></div>
  <hr>

  <div class="section" id="coldbar">
  <!-- Cold Bar -->
  <details open>
  <summary>Cold Bar <span class="arrow"></span></summary>
    <div class="button-grid">
      <button onclick="calculateExpiration('Inclusions', { days: 5 })">Inclusions</button>
      <button onclick="calculateExpiration('Matcha Powder', { weeks: 1 })">Matcha Powder</button>
      <button onclick="calculateExpiration('Frappuccino Chips', { weeks: 1 })">Frappuccino Chips</button>
      <button onclick="calculateExpiration('Vanilla Bean Powder', { weeks: 1 })">Vanilla Bean Powder</button>
      <button onclick="calculateExpiration('Frappuccino Roast', { hours: 48 })">Frappuccino Roast</button>
      <button onclick="calculateExpiration('Lemonade', { hours: 48 })">Lemonade</button>
      <button onclick="calculateExpiration('Dark Caramel', { weeks: 2 })">Dark Caramel</button>
      <button onclick="calculateExpiration('Cold Brew', { weeks: 1 })">Cold Brew</button>
      <button onclick="calculateExpiration('Vanilla Sweet Cream', { hours: 48 })">Vanilla Sweet Cream</button>
      <button onclick="calculateExpiration('Whipped Cream', { hours: 24 })">Whipped Cream</button>
    </div>
  </details>
</div>

  <!-- Hot Bar -->
  <div class="section">
    <details>
      <summary>Hot Bar <span class="arrow"></span></summary>
        <div class="button-grid">
          <button onclick="calculateExpiration('Chai', { hours: 24 })">Chai</button>
          <button onclick="calculateExpiration('Mocha', { hours: 24 })">Mocha</button>
          <button onclick="calculateExpiration('White Mocha', { weeks: 2 })">White Mocha</button>
          <button onclick="calculateExpiration('Caramel Drizzle Bottles', { weeks: 2 })">Caramel Drizzle</button>
        </div>
      </details>
    </div>

  <!-- Food -->
  <div class="section">
  <details>
  <summary>Food & Pastries <span class="arrow"></span></summary>
  <div class="button-grid">
    <button onclick="calculateExpiration('Egg Bites', { weeks: 1 }, 'food')">Egg Bites</button>
    <button onclick="calculateExpiration('Pastries', { hours: 48 }, 'food')">Pastries</button>
    <button onclick="calculateExpiration('Cake Pops', { hours: 72 }, 'food')">Cake Pops</button>
    <button onclick="calculateExpiration('Madelines', { weeks: 2 }, 'food')">Madelines</button>
    <button onclick="calculateExpiration('Marshmallow Dream Bars', { weeks: 2 }, 'food')">Marshmallow Dream Bars</button>
    <button onclick="calculateExpiration('Breakfast Sandwiches', { hours: 48 }, 'food')">Breakfast Sandwiches</button>
  </div>
</details>
</div>

  <div id="footer"><br>Designed by Hayley, for my friends at 2907 &hearts;</div>

  <script>
    function calculateExpiration(itemName, duration, type = "bar") {
      const now = new Date();
      const expiration = new Date(now);

      if (duration.hours) expiration.setHours(expiration.getHours() + duration.hours);
      if (duration.days) expiration.setDate(expiration.getDate() + duration.days);
      if (duration.weeks) expiration.setDate(expiration.getDate() + duration.weeks * 7);

      const daysOfWeek = [
        { name: "Sunday", color: "#000" },
        { name: "Monday", color: "#1639C9" },
        { name: "Tuesday", color: "#E8C82E" },
        { name: "Wednesday", color: "#D60202" },
        { name: "Thursday", color: "#4F2F14" },
        { name: "Friday", color: "#318208" },
        { name: "Saturday", color: "#DE8100" }
      ];

      const dayIndex = expiration.getDay();
      const dayName = daysOfWeek[dayIndex].name;
      const dayColor = daysOfWeek[dayIndex].color;

      let expirationText = "";
      if (type === "food") {
        expirationText = `<span style="font-size: 16pt;">${expiration.toLocaleString([], { month: 'numeric', day: 'numeric'})}, End of Day</span>`;
      } else {
        expirationText = `<span style="font-size: 16pt;">${expiration.toLocaleString([], { month: 'numeric', day: 'numeric', hour: 'numeric', minute: '2-digit' })}</span>`;
      }

      document.getElementById("output").innerHTML =
        `<span class="day-badge" style="background-color:${dayColor}; font-size: 16pt;">${dayName}</span><br>${expirationText}`;

      document.getElementById("itemName").innerHTML =
        `<span style="font-style: italic;">${itemName}</span> expire(s) on:`;
    }
  </script>

</body>
</html>
